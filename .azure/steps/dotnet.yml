variables:
  DotNet8InstallArgs: '-version 8.0.100-rc.2.23464.3'
steps:
  - script: |
      curl -sSL https://dot.net/v1/dotnet-install.sh | bash /dev/stdin $(DotNet8InstallArgs) --install-dir /opt/hostedtoolcache/dotnet
      dotnet --info
    displayName: 'Install .NET $(DotNet8Version) (Linux)'
    condition: eq(variables['Agent.OS'], 'Linux')

  - script: |
      powershell -NoProfile -ExecutionPolicy unrestricted -Command "[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; &([scriptblock]::Create((Invoke-WebRequest -UseBasicParsing 'https://dot.net/v1/dotnet-install.ps1'))) $(DotNet8InstallArgs) -InstallDir C:\hostedtoolcache\windows\dotnet"
      dotnet --info
    displayName: 'Install .NET $(DotNet8Version) (Windows)'
    condition: eq(variables['Agent.OS'], 'Windows_NT')
# steps:
#   - task: UseDotNet@2
#     displayName: 'Use .NET SDK 8.0.x'
#     inputs:
#       version: 8.0.x